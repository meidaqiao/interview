<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>

</body>

</html>
<script>
var canVisitAllRooms = function(rooms) {
    let result = new Map();
    rooms.forEach((item, index) => {
        if(index == 0) {
            result.set(0, true)
        }else {
            result.set(index, false)
        }
    })
    let start = rooms[0]
    for(let i = 0; i < start.length; i++) {
        result.set(start[i], true)
        get(start[i])
    } 
    function get(item) {
        let start = rooms[item]
        for(let i = 0; i < start.length; i++) {
            if(result.get(start[i])){
                continue;
            }else {
                result.set(start[i], true)
                get(start[i])
            }
        } 
    }
    let arr = [];
    result.forEach((value, key) => {
        arr.push(value)
    })
    return arr.every(item => item == true)
};
    console.log(canVisitAllRooms([[1,3],[3,0,1],[2],[0]]))
</script>
